<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlazeOS</title>
    <!-- Google Fonts for a retro pixel look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="login-screen">
        <div class="login-box">
            <div class="login-header">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIaSURBVFhH7Zc/S8NAGMWfBQ+ePZggKDoIdBC8eA+hhyCiiyCiINZB0EH/gC7dRJdOImrSokuii07d/4AuOrhIcaGCgqAgBEEQhN47P+Tmq61pG28C98EPcl+5J+/93L0n1JRS8f/1AD0qW0+MhlMup2kGk5XvG+wK85T22fXh2M+4wA2X/3g4LgdDrheyHw8kX0fRNG3lRCSLw+1J/9R8P5+wL3X7bS+2Ff14gBN4BIMU10aKqYjH5fF5x/UvVz+1/gD87mK3YgBmsBKiAFYAsCAIQG/4/X6/3zWbAGBWbGdAULv+AtQbwXgVAXQCMGDbawBrAmAFhAn5B+pw2jwEAxYARwNgCjgGMAYcDAFX/A0gHAMwEYGIDYDoDCQAkwRIAJjSApjMyEBDAyABorQNwmTfAUP8JgB4A/BesNQCgfgAAnIDoAWA+AFB/ADgC0QPA/ACA+gHAGYgeAOZHgPoDwBGIHgDmR4D6A8ARiB4A5keA+gPAEYgeAObfP0E5D57eAFA/AAgnkLwA6AFA/QBwBKMHwPybgPoDwBmMHgDm3wTUFwDOYPQAMH8TUF8AOMPoAWD+TVB9AODsDA9g/k3QfwDg7AwPYP5N0H8A4OwMD2D+TdD/AADZ3AEw/ybovwGAk/0DADz/Juh/A+DsDA9g/k3QfwDg7AwPYP5N0H8A4OwMD2D+TdD/AADZ3AEw/ybovwGAk/0HAPz+TVD/A8CRx/sA80+C+ncARx7vA8w/CepfARx5vA8w/ySo/z3AkceX2e8/wTz/BFRqf3r7AfDfFvAGx/k3gZJ/pvwHAG9g/M0A+b8BfTMA+R/ADQz/mQD5P0GbAPk/QZsGwP8c+L8B/zD4bwB/WPzPAP8w+G8A/1j85wD/MPjv+w/BD5Z/BH+w/BH8wfJH8AcrX53yDw++kG+g/j/kAAAAAElFTSuQmCC" alt="BlazeOS Logo" width="32" height="32">
                <h2>Anmeldung</h2>
            </div>
            <div class="login-body">
                <p>Gib deinen Namen ein, um BlazeOS zu starten.</p>
                <div class="login-input-group">
                    <label for="loginNameInput">Benutzername:</label>
                    <input type="text" id="loginNameInput" class="win-input" autofocus>
                </div>
                <div class="login-buttons">
                    <button id="loginBtn" class="win-button">OK</button>
                </div>
            </div>
        </div>
    </div>

    <div id="desktop" style="display: none;">
        <div id="cursor-container"></div> <!-- Container für die Live-Cursor -->

        <!-- Paint Window -->
        <div class="win-window active" id="window-paint" style="width: 800px; height: 600px; top: 20px; left: 300px; z-index: 2;">
            <div class="win-title-bar">
                <span>Paint.exe</span>
                <div class="win-title-buttons">
                    <div class="win-title-button win-close-btn">X</div>
                </div>
            </div>
            <div class="win-menu-bar">
                <label for="colorPicker">Farbe:</label>
                <input type="color" id="colorPicker" value="#000000" title="Farbe wählen">
                <div class="separator"></div>
                <label for="brushSize">Größe (<span id="brushSizeValue">10</span>):</label>
                <input type="range" id="brushSize" min="1" max="100" value="10" title="Pinselgröße">
                <div class="separator"></div>
                <button id="clearCanvasBtn" class="win-button-small" title="Leinwand leeren">Alles löschen</button>
            </div>
            <div class="win-content" style="padding: 0; position:relative; border-top: none;">
                <canvas id="drawingCanvas"></canvas>
                <div id="brushCursor"></div>
            </div>
            <div class="win-resize-handle"></div>
        </div>

        <!-- Controls Window -->
        <div class="win-window" id="window-controls" style="width: 250px; height: 220px; top: 50px; left: 20px; z-index: 1;">
            <div class="win-title-bar"><span>Einstellungen</span><div class="win-title-buttons"><div class="win-title-button win-close-btn">X</div></div></div>
            <div class="win-content">
                <div style="margin-top: 10px;">
                    <input type="checkbox" id="toggleCursorsCheckbox" checked>
                    <label for="toggleCursorsCheckbox">Live-Cursor anzeigen</label>
                </div>
                <div style="margin-top: 10px;">
                    <label for="cursorColorPicker">Cursor-Farbe:</label>
                    <input type="color" id="cursorColorPicker" title="Eigene Cursor-Farbe wählen">
                </div>
                <div style="display: flex; align-items: center; gap: 8px; margin-top: auto;">
                    <div id="statusIndicator" style="width: 16px; height: 16px; border: 2px inset var(--win-shadow); background-color: red;"></div>
                    <p id="connectionStatus">Verbinde...</p>
                </div>
            </div>
            <div class="win-resize-handle"></div>
        </div>
        
        <!-- Registration Window (hidden by default) -->
        <div class="win-window" id="window-registration" style="width: 350px; height: 450px; top: 80px; left: 80px; display: none;">
            <div class="win-title-bar"><span>Anmeldung.exe</span><div class="win-title-buttons"><div class="win-title-button win-close-btn">X</div></div></div>
            <div class="win-content">
                <p>Dein Name ist im System registriert.</p>
                <div id="registration-form" style="display: flex; flex-direction: column; gap: 5px;">
                    <label for="nameInput">Dein Name:</label>
                    <input type="text" id="nameInput" class="win-input" disabled>
                    <button id="registerBtn" class="win-button" style="margin-top: 5px;" disabled>Angemeldet</button>
                </div>
                <hr style="width: 100%; border: 1px inset var(--win-shadow); margin: 10px 0;">
                <p>Teilnehmer:</p>
                <ul id="participant-list" class="win-list">
                    <!-- Participants will be added here by JS -->
                </ul>
            </div>
            <div class="win-resize-handle"></div>
        </div>

        <!-- Poll Window (hidden by default) -->
        <div class="win-window" id="window-poll" style="width: 400px; height: 555px; top: 150px; left: 200px;">
            <div class="win-title-bar"><span>Umfrage.exe</span><div class="win-title-buttons"><div class="win-title-button win-close-btn">X</div></div></div>
            <div class="win-content">
                <p><strong>Terminfindung LAN-Party</strong></p>
                <p>Welches Wochenende passt euch am besten?</p>
                
                <div id="poll-options" style="display: flex; flex-direction: column; gap: 8px;">
                    <!-- Poll options will be dynamically inserted here -->
                </div>

                <button id="voteBtn" class="win-button" style="margin-top: 10px; max-width: 120px;">Abstimmen</button>
                
                <hr style="width: 100%; border: 1px inset var(--win-shadow); margin: 15px 0;">
                
                <p><strong>Ergebnisse:</strong></p>
                <div id="poll-results" style="display: flex; flex-direction: column; gap: 10px;">
                    <!-- Poll results will be dynamically inserted here -->
                </div>
            </div>
            <div class="win-resize-handle"></div>
        </div>

        <!-- Notepad Window (hidden by default) -->
        <div class="win-window" id="window-notepad" style="width: 400px; height: 300px; top: 100px; left: 150px; display: none;">
            <div class="win-title-bar"><span>Notepad.exe</span><div class="win-title-buttons"><div class="win-title-button win-close-btn">X</div></div></div>
            <div class="win-menu-bar">
                <input type="radio" name="notepad-mode" id="notepad-local" value="local" checked> <label for="notepad-local">Lokal</label>
                <input type="radio" name="notepad-mode" id="notepad-shared" value="shared"> <label for="notepad-shared">Shared</label>
            </div>
            <div class="win-content" style="padding:0;">
                <textarea id="notepad-textarea-local" class="notepad-textarea" placeholder="Lokale Notizen..."></textarea>
                <textarea id="notepad-textarea-shared" class="notepad-textarea" placeholder="Geteilte Notizen..." style="display:none;"></textarea>
            </div>
            <div class="win-resize-handle"></div>
        </div>

        <!-- Calculator Window (hidden by default) -->
        <div class="win-window" id="window-calculator" style="width: 280px; height: 380px; top: 120px; left: 400px; display: none;">
            <div class="win-title-bar"><span>Rechner.exe</span><div class="win-title-buttons"><div class="win-title-button win-close-btn">X</div></div></div>
            <div class="win-content">
                <div id="calculator-display">0</div>
                <div id="calculator-buttons">
                    <button class="win-button calc-btn">C</button><button class="win-button calc-btn">CE</button><button class="win-button calc-btn">&larr;</button><button class="win-button calc-btn">/</button>
                    <button class="win-button calc-btn">7</button><button class="win-button calc-btn">8</button><button class="win-button calc-btn">9</button><button class="win-button calc-btn">*</button>
                    <button class="win-button calc-btn">4</button><button class="win-button calc-btn">5</button><button class="win-button calc-btn">6</button><button class="win-button calc-btn">-</button>
                    <button class="win-button calc-btn">1</button><button class="win-button calc-btn">2</button><button class="win-button calc-btn">3</button><button class="win-button calc-btn">+</button>
                    <button class="win-button calc-btn">+/-</button><button class="win-button calc-btn">0</button><button class="win-button calc-btn">.</button><button class="win-button calc-btn">=</button>
                </div>
            </div>
            <div class="win-resize-handle"></div>
        </div>

        <!-- Music Player Window (hidden by default) -->
        <div class="win-window" id="window-music-player" style="width: 350px; height: 450px; top: 180px; left: 350px; display: none;">
            <div class="win-title-bar"><span>MusicPlayer.exe</span><div class="win-title-buttons"><div class="win-title-button win-close-btn">X</div></div></div>
            <div class="win-content">
                <div class="music-display win-input">Kein Titel</div>
                <div class="music-controls">
                    <button id="music-prev-btn" class="win-button">&laquo;</button>
                    <button id="music-play-pause-btn" class="win-button">&#9658;</button>
                    <button id="music-next-btn" class="win-button">&raquo;</button>
                </div>
                <div class="music-volume">
                    <span>Lautstärke:</span>
                    <input type="range" id="music-volume-slider" min="0" max="100" value="80">
                </div>
                <p><strong>Wiedergabeliste:</strong></p>
                <ul id="music-playlist" class="win-list">
                    <!-- Playlist items will be added by JS -->
                </ul>
            </div>
            <div class="win-resize-handle"></div>
        </div>

    </div>

    <div id="start-menu" style="display: none;">
        <ul>
            <li><a href="#" class="start-menu-item" data-window-id="window-registration">Anmeldung</a></li>
            <li><a href="#" class="start-menu-item" data-window-id="window-poll">Umfrage</a></li>
            <li><a href="#" class="start-menu-item" data-window-id="window-paint">Paint</a></li>
            <li><a href="#" class="start-menu-item" data-window-id="window-notepad">Notepad</a></li>
            <li><a href="#" class="start-menu-item" data-window-id="window-calculator">Rechner</a></li>
            <li><a href="#" class="start-menu-item" data-window-id="window-music-player">Music Player</a></li>
            <hr style="width: 90%; border: 1px inset var(--win-shadow); margin: 3px auto;">
            <li><a href="#" class="start-menu-item" data-window-id="window-controls">Einstellungen</a></li>
            <hr style="width: 90%; border: 1px inset var(--win-shadow); margin: 3px auto;">
            <li><a href="https://discord.gg/fAn7Q38B" target="_blank" class="start-menu-item">Discord</a></li>
            <li><a href="https://steamcommunity.com/groups/teamblazenthal" target="_blank" class="start-menu-item">Steam</a></li>
            <hr style="width: 90%; border: 1px inset var(--win-shadow); margin: 3px auto;">
            <li><a href="#" id="logoutBtn" class="start-menu-item">Abmelden</a></li>
        </ul>
    </div>

    <footer id="taskbar" style="display: none;">
        <button id="startButton" class="win-button">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACDSURBVDhPY/j//z8DNsD4wscK4ILgB4gYgDgwGYn9gAYQG4D4fyA2AGI/kPh/ALsDMX4g1gY5A3F+INYG5QDEDyAOBiA+AE3gDyCWBFkTiAOBgNghqCWQGYj_gFgH5AxE_0BsB-QOxA8GUTgA8V8g9gdiAyD-D8QGQDQAUwEAy_t48dZx6LAAAAAASUVORK5CYII=" alt="" width="16" height="16">
            <span>Start</span>
        </button>
        <div id="taskbar-buttons"></div>
        <div id="taskbar-username"></div>
        <div id="clock">12:00</div>
    </footer>
    <script src="script.js"></script>
</body>
</html>

